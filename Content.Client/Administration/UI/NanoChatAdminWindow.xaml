<DefaultWindow
    xmlns="https://spacestation14.io"
    xmlns:controls="clr-namespace:Content.Client.Administration.UI.CustomControls"
    Title="{Loc nanochat-admin-title}"
    MinWidth="900"
    MinHeight="600">
    <BoxContainer Orientation="Vertical">
        <!-- Header with refresh button -->
        <BoxContainer Orientation="Horizontal" Margin="5">
            <Label Text="{Loc nanochat-admin-header}" StyleClasses="LabelHeading"/>
            <Control HorizontalExpand="True"/>
            <Button Name="RefreshButton" Access="Public" Text="{Loc nanochat-admin-refresh}"/>
        </BoxContainer>

        <controls:HSeparator/>

        <!-- Main content area with card list and message viewer -->
        <SplitContainer Name="MainSplit" Access="Public" Orientation="Horizontal" VerticalExpand="True">
            <!-- Left side: List of cards -->
            <BoxContainer Orientation="Vertical" MinWidth="250">
                <BoxContainer Orientation="Horizontal" Margin="5">
                    <Label Text="{Loc nanochat-admin-card-list}" StyleClasses="LabelHeading"/>
                </BoxContainer>
                
                <BoxContainer Orientation="Horizontal" Margin="5 0">
                    <LineEdit Name="SearchLineEdit" Access="Public" 
                              PlaceHolder="{Loc nanochat-admin-search-placeholder}" 
                              HorizontalExpand="True"/>
                </BoxContainer>

                <ScrollContainer VerticalExpand="True">
                    <BoxContainer Name="CardList" Access="Public" Orientation="Vertical"/>
                </ScrollContainer>
            </BoxContainer>

            <!-- Right side: Messages for selected card -->
            <BoxContainer Orientation="Vertical">
                <!-- Card info header -->
                <BoxContainer Name="CardInfoPanel" Access="Public" Orientation="Vertical" Margin="5" Visible="False">
                    <Label Name="CardOwnerLabel" Access="Public" Text="{Loc nanochat-admin-no-selection}"/>
                    <Label Name="CardUsernameLabel" Access="Public" Text="" StyleClasses="LabelSubText"/>
                    <Label Name="CardNumberLabel" Access="Public" Text=""/>
                </BoxContainer>

                <controls:HSeparator/>

                <!-- Recipient selector -->
                <BoxContainer Name="RecipientSelectorPanel" Access="Public" Orientation="Vertical" Margin="5" Visible="False">
                    <Label Text="{Loc nanochat-admin-select-conversation}" Margin="0 0 0 5" StyleClasses="LabelHeading"/>
                    <ScrollContainer MinHeight="100" MaxHeight="200" VerticalExpand="False">
                        <BoxContainer Name="RecipientList" Access="Public" Orientation="Vertical" HorizontalExpand="True"/>
                    </ScrollContainer>
                </BoxContainer>

                <controls:HSeparator Name="RecipientSeparator" Access="Public" Visible="False"/>

                <!-- Messages view -->
                <BoxContainer Name="MessagesPanel" Access="Public" Orientation="Vertical" VerticalExpand="True" Visible="False">
                    <BoxContainer Orientation="Horizontal" Margin="5 5 5 0">
                        <Label Name="ConversationLabel" Access="Public" Text="{Loc nanochat-admin-conversation-with}"/>
                    </BoxContainer>
                    
                    <ScrollContainer Name="MessagesScroll" Access="Public" VerticalExpand="True" Margin="5">
                        <BoxContainer Name="MessageList" Access="Public" Orientation="Vertical"/>
                    </ScrollContainer>
                </BoxContainer>

                <!-- No selection message -->
                <BoxContainer Name="NoSelectionPanel" Access="Public" 
                              Orientation="Vertical" 
                              VerticalExpand="True" 
                              HorizontalExpand="True"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center">
                    <Label Text="{Loc nanochat-admin-no-selection}" 
                           HorizontalAlignment="Center" 
                           StyleClasses="LabelSubText"/>
                </BoxContainer>
            </BoxContainer>
        </SplitContainer>
    </BoxContainer>
</DefaultWindow>
